# 3. 컴포넌트

### 1. 컴포넌트 선언 방식

1. 함수형 컴포넌트

   ```javascript
   import React from 'react';
   import './App.css';
   
   function App(){
       const name = '리액트';
       return <div className="react">{name}</div>;
   }
   
   export default App;
   ```

   - state와 라이프사이클 API 사용 불가능 -> `Hooks`라는 기능 도입으로 해결!

2. 클래스형 컴포넌트

   ```javascript
   import React,{Component} from 'react';
   
   class App extends Component {
       render(){
           const name="react";
           return <div className="react">{name}</div>;
       }
   }
   
   export default App;
   ```

   - state 기능 및 라이프 사이클 기능을 사용할 수 있다
   - 임의 메서드 지정이 가능하다



### 2. props

1. JSX 내부에서 props 렌더링

   ```javascript
   import React from 'react';
   
   const MyComponent = props => {
       return <div>안녕하세요, 제 이름은 {props.name}입니다.</div>;
   }
   export default MyComponent;
   ```

2. 컴포넌트를 사용할 때 props 값 지정하기

   ```javascript
   const App = ()=>{
       return <MyComponent name="React"/>;
   }
   ```

3. props 기본 값 설정:defaultProps

   ```javascript
   import React from 'react';
   
   const MyComponent = props => {
       return <div>안녕하세요, 제 이름은 {props.name}입니다.</div>;
   };
   
   MyComponent.defaultPorps = {
       name: '기본 이름'
   };
   
   export default MyComponent;
   ```

4. 태그 사이의 내용을 보여주는 children

   <App.js>

   ```javascript
   const App=()=>{
       return <MyComponent>리액트</MyComponent>;
   }
   ```

   <MyComponent.js>

   ```javascript
   const MyComponent = props => {
       return(
       	<div>
           	안녕하세요, 제 이름은 {props.name}입니다	<br/>
           	children 값은 {props.children}
   			입니다.
          </div>
       );
   };
   
   MyComponent.defaultProps = {
       name: '기본 이름'
   };
   ```

5. 비구조화 할당 문법을 통해 props 내부 값 추출하기

   ```javascript
   const MyComponent = ({name, children}) => {
       return(
       	<div>
           ...
           </div>
       );
   };
   ```

6. propTypes를 통한 props 검증

   `propTypes`

   props의 타입(type)을 지정할 때 사용한다.

   <사용 방법>

   ```javascript
   import React from 'react';
   import PropTypes from 'prop-types';	// import 구문을 통해 불러온다.
   
   const MyComponent = ({a,b})=>{
       return(...);
   };
   
   MyComponent.propTypes = {
       a: PropTypes.string	// name의 값은 무조건 문자열(string)이어야 한다!
   }
   ```

   - propTypes를 지정하지 않았을 때 경고 메시지를 띄워주는 작업

     `isRequired`

     ```javascript
     MyComponent.propTypes = {
         a: PropTypes.number.isRequired
     };
     ```

7. 클래스형 컴포넌트에서 props 사용하기

   ```javascript
   import React, {Component} from 'react';
   import PropTypes from 'prop-types';
   
   class MyComponent extends Component {
   	render(){
           const {name, favoriteNumber, children} = this.props;	// 비구조화 할당
           return(
           	<div>
               	안녕하세요, 제 이름은 {name} 입니다. <br/>
               	children 값은 {children}
   				입니다.
                   <br/>
                   제가 좋아하는 숫자는 {favoriteNumber} 입니다.
               </div>
           );
       }
   }
   
   MyComponent.defaultProps = {
       name: '기본 이름'
   };
   
   MyComponent.propTypes = {
       name: PropTypes.string,
       favoriteNumber: PropTypes.number.isRequired
   };
   
   export default MyComponent;
   ```



### 3. state

: 컴포넌트 내부에서 바뀔 수 있는 값

1. 클래스형 컴포넌트의 state

   - constructor를 작성할 때 반드시 super(props)를 호출한다!
   - 이벤트로 함수를 넣어줄 때 화살표 함수 문법을 사용한다.

2. 함수형 컴포넌트의 useState

   - 함수형 컴포넌트에서는 `state`를 사용할 수 없다=>`useState`라는 함수를 사용한다.

   ```javascript
   import React,{useState} from 'react';
   
   const Say = ()=>{
       const [message, setMessage] = useState('');
       const onClickEnter = () => setMessage('안녕하세요!');
       const onClickLeave = () => setMessage('안녕히 가세요!');
       
       return(
       	<div>
           	<button onClick={onClickEnter}>입장</button>
   			<button onClick={onClickLeave}>퇴장</button>
   			<h1>{message}</h1>
   		</div>
       );
   };
   
   export default Say;
   ```

   - useState 함수의 인자에는 상태의 초깃값을 넣어 준다.
   - useState 초깃값의 형태는 자유이다 (state 초깃값은 객체 형식을 넣어주어야 한다)

